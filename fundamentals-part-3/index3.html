<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Function library example</title>
  <style>
    input {
      font-size: 2em;
      margin: 10px 1px 0;
    }
  </style>
</head>
<body>

  <input class="numberInput" type="text">
  <p></p>

  <script>
      //return values examples
    const input = document.querySelector('.numberInput');
    const para = document.querySelector('p');

    function squared(num) {
        return num * num;
    }

    function cubed(num) {
        return num * num * num;
    }

    function factorial(num) {
        if (num < 0) return undefined;
        if (num == 0) return 1;
        let x = num - 1;
        while (x > 1) {
            num *= x;
            x--;
        }
        return num;
    }

    input.addEventListener('change', () => {
        const num = parseFloat(input.value);
        if (isNaN(num)) {
            para.textContent = 'You need to enter a number!';
        } else {
            para.textContent = `${num} squared is ${squared(num)}. `;
            para.textContent += `${num} cubed is ${cubed(num)}. `;
            para.textContent += `${num} factorial is ${factorial(num)}. `;
        }
    });

    // a function that accesses an outer variable will change it, but if the variable is redeclared inside the function then it won't change the outer variable.

    let userName = 'John';

    function showMessage() {
      let userName = "Bob"; // declare a local variable (if this was just userName = "Bob" then outer would be changed.)

      let message = 'Hello, ' + userName; // Bob
      alert(message);
    }

    // the function will create and use its own userName
    showMessage();

    alert( userName ); // John, unchanged, the function did not access the outer variable

    /* naming functions
    Functions are actions. So their name is usually a verb. It should be brief, as accurate as possible and describe what the function does, so that someone reading the code gets an indication of what the function does.

    It is a widespread practice to start a function with a verbal prefix which vaguely describes the action. There must be an agreement within the team on the meaning of the prefixes.

    For instance, functions that start with "show" usually show something.

    Function starting with…

    "get…" – return a value,
    "calc…" – calculate something,
    "create…" – create something,
    "check…" – check something and return a boolean, etc.
    Examples of such names:

    showMessage(..)     // shows a message
    getAge(..)          // returns the age (gets it somehow)
    calcSum(..)         // calculates a sum and returns the result
    createForm(..)      // creates a form (and usually returns it)
    checkPermission(..) // checks a permission, returns true/false
    */

    //Function Declaration: a function, declared as a separate statement, in the main code flow:

    // Function Declaration
    function sum(a, b) {
      return a + b;
    }

    //Function Expression: a function, created inside an expression or inside another syntax construct. Here, the function is created on the right side of the “assignment expression” =:

    // Function Expression
    let sum = function(a, b) {
      return a + b;
    };

    // my practice

    function checkAge(age) {
      return (age >= 18) ? true : return confirm("Did your parents allow you?");
    }

    function checkAge(age) {
      return (age >= 18) || confirm("Did your parents allow you?");
    }

    function calcMin(a,b) {
      if (a > b) {
        alert(a + " is greater than" + b);
      } else {
        alert(b + " is greater than" + a);
      }
    }

    calcMin(2,5);
    
  </script>
</body>
</html>